var Le=Object.defineProperty;var Ie=(a,e,t)=>e in a?Le(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var G=(a,e,t)=>(Ie(a,typeof e!="symbol"?e+"":e,t),t);import{r as ie,s as Je,n as re,o as Ne,f as fe}from"../chunks/scheduler.b95eede2.js";import{d as He,S as Re,i as Be,g as y,s as R,y as Ue,h as T,f as v,c as B,j as M,z as te,k as f,l as Fe,x as m,a as q,A as Se,B as de,C as oe,D as j,E as he,m as Q,n as W,F as Z,o as X}from"../chunks/index.bf9e658d.js";function ee(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Ae(a,e){a.d(1),e.delete(a.key)}function Me(a,e,t,l,n,s,o,d,i,r,p,g){let b=a.length,u=s.length,S=b;const L={};for(;S--;)L[a[S].key]=S;const E=[],_=new Map,D=new Map,w=[];for(S=u;S--;){const c=g(n,s,S),O=t(c);let U=o.get(O);U?l&&w.push(()=>U.p(c,e)):(U=r(O,c),U.c()),_.set(O,E[S]=U),O in L&&D.set(O,Math.abs(S-L[O]))}const k=new Set,h=new Set;function A(c){He(c,1),c.m(d,p),o.set(c.key,c),p=c.first,u--}for(;b&&u;){const c=E[u-1],O=a[b-1],U=c.key,F=O.key;c===O?(p=c.first,b--,u--):_.has(F)?!o.has(U)||k.has(U)?A(c):h.has(F)?b--:D.get(U)>D.get(F)?(h.add(U),A(c)):(k.add(F),b--):(i(O,o),b--)}for(;b--;){const c=a[b];_.has(c.key)||i(c,o)}for(;u;)A(E[u-1]);return ie(w),E}class ne{constructor(){G(this,"code");G(this,"name")}static fromJson(e){const t=new ne;return t.code=e.code,t.name=e.name,t}static getByCode(e,t){for(const l of e)if(l.code===t)return l;return null}toJson(){return{code:this.code,name:this.name}}}class ce{constructor(){G(this,"from");G(this,"to");G(this,"rate");G(this,"updatedAt")}static fromJson(e){const t=new ce;return t.from=e.from,t.to=e.to,t.rate=e.rate,t.updateAt=e.updatedAt,t}convert(e){return e*this.rate}toJson(){return{from:this.from,to:this.to,rate:this.rate,updatedAt:this.updatedAt}}}const _e="https://api.exchangerate.host";class pe{static async getCurrencies(){const t=await(await fetch(`${_e}/symbols`)).json(),l=[];if(t.symbols)for(const n of Object.keys(t.symbols)){const s=t.symbols[n];if(s){const o=new ne;o.code=s.code?s.code.toString():"",o.name=s.description?s.description.toString():"",l.push(o)}}return l}static async getRate(e,t){const n=await(await fetch(`${_e}/convert?from=${e}&to=${t}`)).json();return ce.fromJson({from:e,to:t,rate:n.result,updatedAt:Date.now()})}}class ${static setItem(e,t){localStorage&&localStorage.setItem(e,t)}static getItem(e){return localStorage?localStorage.getItem(e):null}}class se{constructor(){G(this,"id");G(this,"name");G(this,"description","");G(this,"value");this.id=crypto.randomUUID()}static fromJson(e){const t=new se;return t.id=e.id,t.name=e.name,t.description=e.description,t.value=e.value,t}toJson(){return{id:this.id,name:this.name,description:this.description,value:this.value}}}const me="currencies",Pe="rate",Oe="things";class ae{static async getCurrencies(){const e=$.getItem(me);if(e)return JSON.parse(e).map(n=>ne.fromJson(n));const t=await pe.getCurrencies();return t.sort((l,n)=>l.name.localeCompare(n.name)),$.setItem(me,JSON.stringify(t.map(l=>l.toJson()))),t}static async getRate(e,t){const l=`${Pe}-${e}-${t}`,n=$.getItem(l);if(n)return ce.fromJson(JSON.parse(n));const s=await pe.getRate(e,t);return $.setItem(l,JSON.stringify(s.toJson())),s}static async getThings(e){const t=`${Oe}-${e}`,l=$.getItem(t);return l?JSON.parse(l).map(s=>se.fromJson(s)):[]}}function ve(a,e,t){const l=a.slice();return l[31]=e[t],l}function ge(a,e,t){const l=a.slice();return l[36]=e[t],l}function be(a,e,t){const l=a.slice();return l[36]=e[t],l}function ye(a,e,t){const l=a.slice();return l[31]=e[t],l[32]=e,l[33]=t,l}function Ve(a){let e,t,l,n,s,o,d,i,r='<i class="fa-solid fa-shuffle"></i>',p,g,b,u=a[5]&&a[3]&&Array.isArray(a[3][a[0]]),S,L,E=ee(a[4]),_=[];for(let h=0;h<E.length;h+=1)_[h]=Te(be(a,E,h));let D=ee(a[4]),w=[];for(let h=0;h<D.length;h+=1)w[h]=Ee(ge(a,D,h));let k=u&&ke(a);return{c(){e=y("table"),t=y("thead"),l=y("tr"),n=y("td"),s=y("div"),o=y("select");for(let h=0;h<_.length;h+=1)_[h].c();d=R(),i=y("button"),i.innerHTML=r,p=R(),g=y("select");for(let h=0;h<w.length;h+=1)w[h].c();b=R(),k&&k.c(),this.h()},l(h){e=T(h,"TABLE",{class:!0});var A=M(e);t=T(A,"THEAD",{});var c=M(t);l=T(c,"TR",{});var O=M(l);n=T(O,"TD",{class:!0,colspan:!0});var U=M(n);s=T(U,"DIV",{class:!0});var F=M(s);o=T(F,"SELECT",{class:!0,id:!0});var Y=M(o);for(let P=0;P<_.length;P+=1)_[P].l(Y);Y.forEach(v),d=B(F),i=T(F,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),te(i)!=="svelte-vja3k1"&&(i.innerHTML=r),p=B(F),g=T(F,"SELECT",{class:!0,id:!0});var H=M(g);for(let P=0;P<w.length;P+=1)w[P].l(H);H.forEach(v),F.forEach(v),U.forEach(v),O.forEach(v),c.forEach(v),b=B(A),k&&k.l(A),A.forEach(v),this.h()},h(){f(o,"class","form-select"),f(o,"id","currency-from"),a[0]===void 0&&fe(()=>a[17].call(o)),f(i,"class","btn btn-outline-secondary btn-sm mx-auto"),f(i,"type","button"),f(i,"title","Swap"),f(g,"class","form-select"),f(g,"id","currency-to"),a[1]===void 0&&fe(()=>a[18].call(g)),f(s,"class","input-group input-group-sm"),f(n,"class","col-12 px-0 py-3"),f(n,"colspan","3"),f(e,"class","table table-hover table-striped text-center")},m(h,A){q(h,e,A),m(e,t),m(t,l),m(l,n),m(n,s),m(s,o);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(o,null);oe(o,a[0],!0),m(s,d),m(s,i),m(s,p),m(s,g);for(let c=0;c<w.length;c+=1)w[c]&&w[c].m(g,null);oe(g,a[1],!0),m(e,b),k&&k.m(e,null),S||(L=[j(o,"change",a[17]),j(i,"click",a[12]),j(g,"change",a[18])],S=!0)},p(h,A){if(A[0]&16){E=ee(h[4]);let c;for(c=0;c<E.length;c+=1){const O=be(h,E,c);_[c]?_[c].p(O,A):(_[c]=Te(O),_[c].c(),_[c].m(o,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=E.length}if(A[0]&17&&oe(o,h[0]),A[0]&16){D=ee(h[4]);let c;for(c=0;c<D.length;c+=1){const O=ge(h,D,c);w[c]?w[c].p(O,A):(w[c]=Ee(O),w[c].c(),w[c].m(g,null))}for(;c<w.length;c+=1)w[c].d(1);w.length=D.length}A[0]&18&&oe(g,h[1]),A[0]&41&&(u=h[5]&&h[3]&&Array.isArray(h[3][h[0]])),u?k?k.p(h,A):(k=ke(h),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(h){h&&v(e),he(_,h),he(w,h),k&&k.d(),S=!1,ie(L)}}}function qe(a){let e,t,l='<tr><td class="col-3 align-top"><strong>Amount</strong><br/> <small>or usual price</small></td> <td class="col-3 align-top"><strong>Name</strong><br/> <small>Try emojis! üç∫ üçî</small></td> <td class="col-5 align-top"><strong>Description</strong><br/> <small>Small text shown below name</small></td> <td class="col-1">¬†</td></tr>',n,s,o=[],d=new Map,i=ee(a[3][a[0]]);const r=p=>p[31].id;for(let p=0;p<i.length;p+=1){let g=ye(a,i,p),b=r(g);d.set(b,o[p]=De(b,g))}return{c(){e=y("table"),t=y("thead"),t.innerHTML=l,n=R(),s=y("tbody");for(let p=0;p<o.length;p+=1)o[p].c();this.h()},l(p){e=T(p,"TABLE",{class:!0});var g=M(e);t=T(g,"THEAD",{"data-svelte-h":!0}),te(t)!=="svelte-154mg9n"&&(t.innerHTML=l),n=B(g),s=T(g,"TBODY",{});var b=M(s);for(let u=0;u<o.length;u+=1)o[u].l(b);b.forEach(v),g.forEach(v),this.h()},h(){f(e,"class","table table-hover table-striped")},m(p,g){q(p,e,g),m(e,t),m(e,n),m(e,s);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(s,null)},p(p,g){g[0]&521&&(i=ee(p[3][p[0]]),o=Me(o,g,r,1,p,i,d,s,Ae,De,null,ye))},d(p){p&&v(e);for(let g=0;g<o.length;g+=1)o[g].d()}}}function Te(a){let e,t=a[36].code+"",l,n,s=a[36].name+"",o,d;return{c(){e=y("option"),l=Q(t),n=R(),o=Q(s),this.h()},l(i){e=T(i,"OPTION",{});var r=M(e);l=W(r,t),n=B(r),o=W(r,s),r.forEach(v),this.h()},h(){e.__value=d=a[36].code,Z(e,e.__value)},m(i,r){q(i,e,r),m(e,l),m(e,n),m(e,o)},p(i,r){r[0]&16&&t!==(t=i[36].code+"")&&X(l,t),r[0]&16&&s!==(s=i[36].name+"")&&X(o,s),r[0]&16&&d!==(d=i[36].code)&&(e.__value=d,Z(e,e.__value))},d(i){i&&v(e)}}}function Ee(a){let e,t=a[36].code+"",l,n,s=a[36].name+"",o,d;return{c(){e=y("option"),l=Q(t),n=R(),o=Q(s),this.h()},l(i){e=T(i,"OPTION",{});var r=M(e);l=W(r,t),n=B(r),o=W(r,s),r.forEach(v),this.h()},h(){e.__value=d=a[36].code,Z(e,e.__value)},m(i,r){q(i,e,r),m(e,l),m(e,n),m(e,o)},p(i,r){r[0]&16&&t!==(t=i[36].code+"")&&X(l,t),r[0]&16&&s!==(s=i[36].name+"")&&X(o,s),r[0]&16&&d!==(d=i[36].code)&&(e.__value=d,Z(e,e.__value))},d(i){i&&v(e)}}}function ke(a){let e,t=[],l=new Map,n=ee(a[3][a[0]]);const s=o=>o[31].id;for(let o=0;o<n.length;o+=1){let d=ve(a,n,o),i=s(d);l.set(i,t[o]=Ce(i,d))}return{c(){e=y("tbody");for(let o=0;o<t.length;o+=1)t[o].c()},l(o){e=T(o,"TBODY",{});var d=M(e);for(let i=0;i<t.length;i+=1)t[i].l(d);d.forEach(v)},m(o,d){q(o,e,d);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(o,d){d[0]&235&&(n=ee(o[3][o[0]]),t=Me(t,d,s,1,o,n,l,e,Ae,Ce,null,ve))},d(o){o&&v(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function Ye(a){let e=a[6](a[31].value,a[0])+"",t;return{c(){t=Q(e)},l(l){t=W(l,e)},m(l,n){q(l,t,n)},p(l,n){n[0]&9&&e!==(e=l[6](l[31].value,l[0])+"")&&X(t,e)},d(l){l&&v(t)}}}function Ke(a){let e=a[31].name+"",t;return{c(){t=Q(e)},l(l){t=W(l,e)},m(l,n){q(l,t,n)},p(l,n){n[0]&9&&e!==(e=l[31].name+"")&&X(t,e)},d(l){l&&v(t)}}}function we(a){let e,t=a[31].description+"",l;return{c(){e=y("small"),l=Q(t)},l(n){e=T(n,"SMALL",{});var s=M(e);l=W(s,t),s.forEach(v)},m(n,s){q(n,e,s),m(e,l)},p(n,s){s[0]&9&&t!==(t=n[31].description+"")&&X(l,t)},d(n){n&&v(e)}}}function Ce(a,e){let t,l,n,s,o,d,i,r=e[6](e[31].value,e[0])+"",p,g,b,u='<i class="fa-solid fa-arrows-left-right"></i>',S,L,E,_=e[7](e[5].convert(e[31].value),e[1])+"",D,w,k,h,A=e[6](e[5].convert(e[31].value),e[1])+"",c,O;function U(P,V){return P[31].name?Ke:Ye}let F=U(e),Y=F(e),H=e[31].description&&e[31].description.length&&we(e);return{key:a,first:null,c(){t=y("tr"),l=y("td"),n=y("div"),Y.c(),s=R(),H&&H.c(),o=R(),d=y("p"),i=y("small"),p=Q(r),g=R(),b=y("td"),b.innerHTML=u,S=R(),L=y("td"),E=y("p"),D=Q(_),w=R(),k=y("p"),h=y("small"),c=Q(A),O=R(),this.h()},l(P){t=T(P,"TR",{});var V=M(t);l=T(V,"TD",{class:!0});var K=M(l);n=T(K,"DIV",{class:!0});var I=M(n);Y.l(I),I.forEach(v),s=B(K),H&&H.l(K),o=B(K),d=T(K,"P",{class:!0});var le=M(d);i=T(le,"SMALL",{});var C=M(i);p=W(C,r),C.forEach(v),le.forEach(v),K.forEach(v),g=B(V),b=T(V,"TD",{class:!0,"data-svelte-h":!0}),te(b)!=="svelte-si8zc4"&&(b.innerHTML=u),S=B(V),L=T(V,"TD",{class:!0});var J=M(L);E=T(J,"P",{class:!0});var N=M(E);D=W(N,_),N.forEach(v),w=B(J),k=T(J,"P",{class:!0});var z=M(k);h=T(z,"SMALL",{});var x=M(h);c=W(x,A),x.forEach(v),z.forEach(v),J.forEach(v),O=B(V),V.forEach(v),this.h()},h(){f(n,"class","fs-6"),f(d,"class","text-secondary mb-0"),f(l,"class","col-5 align-middle p-1"),f(b,"class","col-1 align-middle p-1"),f(E,"class","fs-6 mb-1"),f(k,"class","text-secondary mb-0"),f(L,"class","col-5 align-middle p-1"),this.first=t},m(P,V){q(P,t,V),m(t,l),m(l,n),Y.m(n,null),m(l,s),H&&H.m(l,null),m(l,o),m(l,d),m(d,i),m(i,p),m(t,g),m(t,b),m(t,S),m(t,L),m(L,E),m(E,D),m(L,w),m(L,k),m(k,h),m(h,c),m(t,O)},p(P,V){e=P,F===(F=U(e))&&Y?Y.p(e,V):(Y.d(1),Y=F(e),Y&&(Y.c(),Y.m(n,null))),e[31].description&&e[31].description.length?H?H.p(e,V):(H=we(e),H.c(),H.m(l,o)):H&&(H.d(1),H=null),V[0]&9&&r!==(r=e[6](e[31].value,e[0])+"")&&X(p,r),V[0]&43&&_!==(_=e[7](e[5].convert(e[31].value),e[1])+"")&&X(D,_),V[0]&43&&A!==(A=e[6](e[5].convert(e[31].value),e[1])+"")&&X(c,A)},d(P){P&&v(t),Y.d(),H&&H.d()}}}function De(a,e){let t,l,n,s,o,d,i,r,p,g,b,u,S,L,E,_,D,w,k,h,A,c,O,U,F;function Y(){e[13].call(r,e[32],e[33])}function H(){e[14].call(u,e[32],e[33])}function P(){e[15].call(_,e[32],e[33])}function V(){return e[16](e[31])}return{key:a,first:null,c(){t=y("tr"),l=y("td"),n=y("div"),s=y("span"),o=Q(e[0]),i=R(),r=y("input"),g=R(),b=y("td"),u=y("input"),L=R(),E=y("td"),_=y("input"),w=R(),k=y("td"),h=y("button"),A=y("i"),O=R(),this.h()},l(K){t=T(K,"TR",{class:!0});var I=M(t);l=T(I,"TD",{class:!0});var le=M(l);n=T(le,"DIV",{class:!0});var C=M(n);s=T(C,"SPAN",{class:!0,id:!0});var J=M(s);o=W(J,e[0]),J.forEach(v),i=B(C),r=T(C,"INPUT",{id:!0,type:!0,class:!0,min:!0,placeholder:!0}),C.forEach(v),le.forEach(v),g=B(I),b=T(I,"TD",{class:!0});var N=M(b);u=T(N,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),N.forEach(v),L=B(I),E=T(I,"TD",{class:!0});var z=M(E);_=T(z,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),z.forEach(v),w=B(I),k=T(I,"TD",{class:!0});var x=M(k);h=T(x,"BUTTON",{id:!0,class:!0,type:!0,title:!0});var ue=M(h);A=T(ue,"I",{class:!0}),M(A).forEach(v),ue.forEach(v),x.forEach(v),O=B(I),I.forEach(v),this.h()},h(){f(s,"class","input-group-text"),f(s,"id",d="thing-value-"+e[31].id),f(r,"id",p="thing-value-"+e[31].id),f(r,"type","number"),f(r,"class","form-control form-control-sm text-end"),f(r,"min","0"),f(r,"placeholder",""),f(n,"class","input-group input-group-sm"),f(l,"class","px-1"),f(u,"id",S="thing-name-"+e[31].id),f(u,"type","text"),f(u,"class","form-control form-control-sm"),f(u,"placeholder","optional"),f(b,"class","px-1"),f(_,"id",D="thing-description-"+e[31].id),f(_,"type","text"),f(_,"class","form-control form-control-sm"),f(_,"placeholder","optional"),f(E,"class","px-1"),f(A,"class","fa-solid fa-trash"),f(h,"id",c="delete-"+e[31].id),f(h,"class","btn btn-sm btn-outline-danger"),f(h,"type","button"),f(h,"title","Delete"),f(k,"class","px-1 text-end"),f(t,"class","mb-4 text-center"),this.first=t},m(K,I){q(K,t,I),m(t,l),m(l,n),m(n,s),m(s,o),m(n,i),m(n,r),Z(r,e[31].value),m(t,g),m(t,b),m(b,u),Z(u,e[31].name),m(t,L),m(t,E),m(E,_),Z(_,e[31].description),m(t,w),m(t,k),m(k,h),m(h,A),m(t,O),U||(F=[j(r,"input",Y),j(u,"input",H),j(_,"input",P),j(h,"click",V)],U=!0)},p(K,I){e=K,I[0]&1&&X(o,e[0]),I[0]&25&&d!==(d="thing-value-"+e[31].id)&&f(s,"id",d),I[0]&25&&p!==(p="thing-value-"+e[31].id)&&f(r,"id",p),I[0]&25&&Se(r.value)!==e[31].value&&Z(r,e[31].value),I[0]&25&&S!==(S="thing-name-"+e[31].id)&&f(u,"id",S),I[0]&25&&u.value!==e[31].name&&Z(u,e[31].name),I[0]&25&&D!==(D="thing-description-"+e[31].id)&&f(_,"id",D),I[0]&25&&_.value!==e[31].description&&Z(_,e[31].description),I[0]&25&&c!==(c="delete-"+e[31].id)&&f(h,"id",c)},d(K){K&&v(t),U=!1,ie(F)}}}function ze(a){let e,t='<i class="fa-solid fa-gear"></i> Customise',l,n;return{c(){e=y("button"),e.innerHTML=t,this.h()},l(s){e=T(s,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),te(e)!=="svelte-5px787"&&(e.innerHTML=t),this.h()},h(){f(e,"class","btn btn-outline-secondary m-1"),f(e,"type","button"),f(e,"title","Customise")},m(s,o){q(s,e,o),l||(n=j(e,"click",a[22]),l=!0)},p:re,d(s){s&&v(e),l=!1,n()}}}function Ge(a){let e,t='<i class="fa-solid fa-plus"></i> Add',l,n,s='<i class="fa-solid fa-save"></i> Save',o,d,i,r,p='<i class="fa-solid fa-arrows-rotate"></i> Reset',g,b;return{c(){e=y("button"),e.innerHTML=t,l=R(),n=y("button"),n.innerHTML=s,o=R(),d=y("br"),i=R(),r=y("button"),r.innerHTML=p,this.h()},l(u){e=T(u,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),te(e)!=="svelte-cqqk0e"&&(e.innerHTML=t),l=B(u),n=T(u,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),te(n)!=="svelte-1x5qcbd"&&(n.innerHTML=s),o=B(u),d=T(u,"BR",{}),i=B(u),r=T(u,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),te(r)!=="svelte-12y445d"&&(r.innerHTML=p),this.h()},h(){f(e,"class","btn btn-outline-primary m-1"),f(e,"type","button"),f(e,"title","Save"),f(n,"class","btn btn-outline-primary m-1"),f(n,"type","button"),f(n,"title","Save"),f(r,"class","btn btn-outline-warning m-1"),f(r,"type","button"),f(r,"title","Save")},m(u,S){q(u,e,S),q(u,l,S),q(u,n,S),q(u,o,S),q(u,d,S),q(u,i,S),q(u,r,S),g||(b=[j(e,"click",a[19]),j(n,"click",a[20]),j(r,"click",a[21])],g=!0)},p:re,d(u){u&&(v(e),v(l),v(n),v(o),v(d),v(i),v(r)),g=!1,ie(b)}}}function je(a){let e,t,l,n,s="Currency Cheatsheet",o,d,i,r,p;function g(_,D){return D[0]&13&&(d=null),d==null&&(d=!!(_[2]&&Array.isArray(_[3][_[0]]))),d?qe:Ve}let b=g(a,[-1,-1]),u=b(a);function S(_,D){return _[2]?Ge:ze}let L=S(a),E=L(a);return{c(){e=y("meta"),t=R(),l=y("div"),n=y("h1"),n.textContent=s,o=R(),u.c(),i=R(),r=y("div"),p=y("div"),E.c(),this.h()},l(_){const D=Ue("svelte-1qe8gry",document.head);e=T(D,"META",{name:!0,content:!0}),D.forEach(v),t=B(_),l=T(_,"DIV",{class:!0,style:!0});var w=M(l);n=T(w,"H1",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-19m6v0m"&&(n.textContent=s),o=B(w),u.l(w),i=B(w),r=T(w,"DIV",{class:!0});var k=M(r);p=T(k,"DIV",{class:!0});var h=M(p);E.l(h),h.forEach(v),k.forEach(v),w.forEach(v),this.h()},h(){document.title="Currency Converter",f(e,"name","description"),f(e,"content",""),f(n,"class","text-center display-4 text-light mx-1 my-2"),f(p,"class","col-12 text-center"),f(r,"class","row"),f(l,"class","container-fluid mx-auto px-0"),Fe(l,"max-width","40rem")},m(_,D){m(document.head,e),q(_,t,D),q(_,l,D),m(l,n),m(l,o),u.m(l,null),m(l,i),m(l,r),m(r,p),E.m(p,null)},p(_,D){b===(b=g(_,D))&&u?u.p(_,D):(u.d(1),u=b(_),u&&(u.c(),u.m(l,i))),L===(L=S(_))&&E?E.p(_,D):(E.d(1),E=L(_),E&&(E.c(),E.m(p,null)))},i:re,o:re,d(_){_&&(v(t),v(l)),v(e),u.d(),E.d()}}}const Qe="GBP",We="THB",Xe="USD";function Ze(a,e,t){let l=!1,n={},s=$.getItem("DEFAULT_FROM_CODE")||Qe,o=$.getItem("DEFAULT_TO_CODE")||We,d,i,r=[],p;const g=[1,10,50,100,500,1e3],b=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5];let u;const S=C=>{const J=b.reduce((N,z)=>u?Math.abs(u.convert(z)-g[0])<Math.abs(u.convert(N)-g[0])?z:N:1);return g.map(N=>{N=N*J;const z=new se;return z.name=d?E(N,d.code,0):N.toString(),z.value=N,z})},L=async()=>{t(5,p=null),s&&o&&(d=ne.getByCode(r,s),i=ne.getByCode(r,o),d!=null&&d.code&&(i!=null&&i.code)&&(t(5,p=await ae.getRate(d.code,i.code)),u=await ae.getRate(d.code,Xe),p&&u&&!n[p.from]&&(t(3,n[p.from]=await ae.getThings(p.from),n),n[p.from].length===0&&t(3,n[p.from]=S(),n)),$.setItem("DEFAULT_FROM_CODE",d.code),$.setItem("DEFAULT_TO_CODE",i.code))),t(3,n)},E=function(C,J,N=2){const z=navigator.language||"en";return new Intl.NumberFormat(z,{style:"currency",currency:J,maximumFractionDigits:N}).format(C)},_=function(C,J){let N=1e8,z=C*.01;for(;N>1;){const x=Math.round(C/N)*N;if(Math.abs(C-x)<z){C=x;break}N=N/10}return E(C,J,C>=10?0:2)},D=function(C){n[C].push(new se),t(3,n)},w=function(C){window.confirm(`Delete${C.name?` "${C.name}"`:""}?`)&&(t(3,n[s]=n[s].filter(N=>N.id!=C.id),n),t(3,n))},k=function(){const C=`${Oe}-${s}`;$.setItem(C,JSON.stringify(n[s].map(J=>J.toJson())))},h=function(){n[s].sort((C,J)=>C.value-J.value),k(),t(3,n)},A=function(){p&&(t(3,n[p.from]=S(),n),t(3,n),k())},c=function(){const C=s;t(0,s=o),t(1,o=C)};Ne(async()=>{t(4,r=await ae.getCurrencies()),await L()});function O(C,J){C[J].value=Se(this.value),t(3,n),t(0,s),t(4,r)}function U(C,J){C[J].name=this.value,t(3,n),t(0,s),t(4,r)}function F(C,J){C[J].description=this.value,t(3,n),t(0,s),t(4,r)}const Y=C=>w(C);function H(){s=de(this),t(0,s),t(4,r)}function P(){o=de(this),t(1,o),t(4,r)}const V=()=>D(s),K=()=>{h(),t(2,l=!1)},I=()=>{window.confirm("Reset?")&&A(),t(2,l=!1)},le=()=>t(2,l=!0);return a.$$.update=()=>{a.$$.dirty[0]&3&&L()},[s,o,l,n,r,p,E,_,D,w,h,A,c,O,U,F,Y,H,P,V,K,I,le]}class tt extends Re{constructor(e){super(),Be(this,e,Ze,je,Je,{},null,[-1,-1])}}export{tt as component};
