var et=Object.defineProperty;var tt=(s,e,t)=>e in s?et(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Q=(s,e,t)=>(tt(s,typeof e!="symbol"?e+"":e,t),t);import{r as fe,s as lt,n as Te,o as st,f as Oe}from"../chunks/scheduler.b95eede2.js";import{d as nt,S as rt,i as it,g as b,s as R,y as at,h as g,f,c as V,j as D,z as se,k as a,l as ot,x as u,a as F,A as ce,B as Me,C as pe,D as K,E as Le,e as oe,m as B,n as H,F as W,o as q}from"../chunks/index.bf9e658d.js";function le(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function je(s,e){s.d(1),e.delete(s.key)}function $e(s,e,t,l,n,i,r,d,h,c,o,C){let I=s.length,k=i.length,S=I;const T={};for(;S--;)T[s[S].key]=S;const y=[],_=new Map,E=new Map,N=[];for(S=k;S--;){const m=C(n,i,S),w=t(m);let M=r.get(w);M?l&&N.push(()=>M.p(m,e)):(M=c(w,m),M.c()),_.set(w,y[S]=M),w in T&&E.set(w,Math.abs(S-T[w]))}const p=new Set,v=new Set;function O(m){nt(m,1),m.m(d,o),r.set(m.key,m),o=m.first,k--}for(;I&&k;){const m=y[k-1],w=s[I-1],M=m.key,A=w.key;m===w?(o=m.first,I--,k--):_.has(A)?!r.has(M)||p.has(M)?O(m):v.has(A)?I--:E.get(M)>E.get(A)?(v.add(M),O(m)):(p.add(A),I--):(h(w,r),I--)}for(;I--;){const m=s[I];_.has(m.key)||h(m,r)}for(;k;)O(y[k-1]);return fe(N),y}function Z(s,e,t=2){const l=navigator.language||"en";return new Intl.NumberFormat(l,{style:"currency",currency:e,maximumFractionDigits:t}).format(s)}function ne(s,e){let t=1e8;const l=s*.01;for(;t>1;){const n=Math.round(s/t)*t;if(Math.abs(s-n)<l){s=n;break}t=t/10}return Z(s,e,s>=10?0:2)}class ve{constructor(){Q(this,"from");Q(this,"to");Q(this,"rate");Q(this,"updatedAt")}static fromJson(e){const t=new ve;return t.from=e.from,t.to=e.to,t.rate=e.rate,t.updatedAt=e.updatedAt,t}convert(e){return e*this.rate}toJson(){return{from:this.from,to:this.to,rate:this.rate,updatedAt:this.updatedAt}}}class re{constructor(){Q(this,"id");Q(this,"name");Q(this,"description","");Q(this,"currency");Q(this,"_value",0);Q(this,"custom",!1);Q(this,"visible",!0);this.id=crypto.randomUUID()}static fromJson(e){const t=new re;return t.id=e.id,t.name=e.name,t.description=e.description,t.value=e.value,t.custom=e.custom,t.currency=e.currency,t.visible=typeof e.visible=="boolean"?e.visible:!0,t}static thingsForCurrency(e,t){const l=[];for(const n of e)n.currency===t&&l.push(n);return l}set value(e){this._value=Number.isNaN(this._value)||this._value<0?0:e}get value(){return this._value}valueConverted(e){return e&&this.currency!==e.to?e.convert(this.value):this.value}toJson(){return{id:this.id,name:this.name,description:this.description,value:this.value,currency:this.currency,custom:this.custom,visible:this.visible}}}const Ee=[1,10,50,100,500,1e3],ct=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5];function me(s,e){if(s.from){const t=ct.reduce((l,n)=>e?Math.abs(e.convert(n)-Ee[0])<Math.abs(e.convert(l)-Ee[0])?n:l:1);return Ee.map(l=>{l=l*t;const n=new re;return n.value=l,n.currency=s.from,n.custom=!1,n})}return[]}class ue{constructor(){Q(this,"code");Q(this,"name")}static fromJson(e){const t=new ue;return t.code=e.code,t.name=e.name,t}static getByCode(e,t){for(const l of e)if(l.code===t)return l;return null}toJson(){return{code:this.code,name:this.name}}}const Fe="https://api.exchangerate.host";class Re{static async getCurrencies(){const t=await(await fetch(`${Fe}/symbols`)).json(),l=[];if(t.symbols)for(const n of Object.keys(t.symbols)){const i=t.symbols[n];if(i){const r=new ue;r.code=i.code?i.code.toString():"",r.name=i.description?i.description.toString():"",l.push(r)}}return l}static async getRate(e,t){const n=await(await fetch(`${Fe}/convert?from=${e}&to=${t}`)).json();return ve.fromJson({from:e,to:t,rate:n.result,updatedAt:Date.now()})}}class ${static setItem(e,t){localStorage&&localStorage.setItem(e,t)}static getItem(e){return localStorage?localStorage.getItem(e):null}}const Ve="currencies",ut="rate",xe="things";class ae{static async getCurrencies(){let e=[];const t=$.getItem(Ve);if(t&&(e=JSON.parse(t).map(n=>ue.fromJson(n))),e.length===0){e=await Re.getCurrencies();const l=JSON.stringify(e.map(n=>n.toJson()));$.setItem(Ve,l)}return e.sort((l,n)=>l.name.localeCompare(n.name)),e}static async getRate(e,t){const l=`${ut}-${e}-${t}`;let n=null;const i=$.getItem(l)||null;if(i&&(n=ve.fromJson(JSON.parse(i)),(Date.now()-n.updatedAt)/1e3<60*60))return n;try{const r=await Re.getRate(e,t);return $.setItem(l,JSON.stringify(r.toJson())),r}catch(r){console.error("getRate",r)}return n}static async getThings(){const e=$.getItem(xe);return e?JSON.parse(e).map(l=>re.fromJson(l)):[]}}function Je(s,e,t){const l=s.slice();return l[36]=e[t],l}function Ue(s,e,t){const l=s.slice();return l[41]=e[t],l}function Pe(s,e,t){const l=s.slice();return l[41]=e[t],l}function Be(s,e,t){const l=s.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function ft(s){let e,t,l,n,i,r,d,h,c='<i class="fa-solid fa-shuffle"></i>',o,C,I,k=s[5]&&s[6]&&s[3]&&Array.isArray(s[3]),S,T,y=le(s[4]),_=[];for(let v=0;v<y.length;v+=1)_[v]=He(Pe(s,y,v));let E=le(s[4]),N=[];for(let v=0;v<E.length;v+=1)N[v]=qe(Ue(s,E,v));let p=k&&Ye(s);return{c(){e=b("table"),t=b("thead"),l=b("tr"),n=b("td"),i=b("div"),r=b("select");for(let v=0;v<_.length;v+=1)_[v].c();d=R(),h=b("button"),h.innerHTML=c,o=R(),C=b("select");for(let v=0;v<N.length;v+=1)N[v].c();I=R(),p&&p.c(),this.h()},l(v){e=g(v,"TABLE",{class:!0});var O=D(e);t=g(O,"THEAD",{});var m=D(t);l=g(m,"TR",{});var w=D(l);n=g(w,"TD",{class:!0,colspan:!0});var M=D(n);i=g(M,"DIV",{class:!0});var A=D(i);r=g(A,"SELECT",{class:!0,id:!0});var L=D(r);for(let Y=0;Y<_.length;Y+=1)_[Y].l(L);L.forEach(f),d=V(A),h=g(A,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),se(h)!=="svelte-u3m65j"&&(h.innerHTML=c),o=V(A),C=g(A,"SELECT",{class:!0,id:!0});var U=D(C);for(let Y=0;Y<N.length;Y+=1)N[Y].l(U);U.forEach(f),A.forEach(f),M.forEach(f),w.forEach(f),m.forEach(f),I=V(O),p&&p.l(O),O.forEach(f),this.h()},h(){a(r,"class","form-select"),a(r,"id","currency-from"),s[0]===void 0&&Oe(()=>s[20].call(r)),a(h,"class","btn btn-outline-secondary btn-sm mx-auto"),a(h,"type","button"),a(h,"title","Swap"),a(C,"class","form-select"),a(C,"id","currency-to"),s[1]===void 0&&Oe(()=>s[21].call(C)),a(i,"class","input-group input-group-sm"),a(n,"class","col-12 px-0 py-3"),a(n,"colspan","3"),a(e,"class","table table-borderless table-striped text-center")},m(v,O){F(v,e,O),u(e,t),u(t,l),u(l,n),u(n,i),u(i,r);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(r,null);pe(r,s[0],!0),u(i,d),u(i,h),u(i,o),u(i,C);for(let m=0;m<N.length;m+=1)N[m]&&N[m].m(C,null);pe(C,s[1],!0),u(e,I),p&&p.m(e,null),S||(T=[K(r,"change",s[20]),K(h,"click",s[13]),K(C,"change",s[21])],S=!0)},p(v,O){if(O[0]&16){y=le(v[4]);let m;for(m=0;m<y.length;m+=1){const w=Pe(v,y,m);_[m]?_[m].p(w,O):(_[m]=He(w),_[m].c(),_[m].m(r,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=y.length}if(O[0]&17&&pe(r,v[0]),O[0]&16){E=le(v[4]);let m;for(m=0;m<E.length;m+=1){const w=Ue(v,E,m);N[m]?N[m].p(w,O):(N[m]=qe(w),N[m].c(),N[m].m(C,null))}for(;m<N.length;m+=1)N[m].d(1);N.length=E.length}O[0]&18&&pe(C,v[1]),O[0]&104&&(k=v[5]&&v[6]&&v[3]&&Array.isArray(v[3])),k?p?p.p(v,O):(p=Ye(v),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(v){v&&f(e),Le(_,v),Le(N,v),p&&p.d(),S=!1,fe(T)}}}function dt(s){let e=[],t=new Map,l,n=le(s[3]);const i=r=>r[36].id;for(let r=0;r<n.length;r+=1){let d=Be(s,n,r),h=i(d);t.set(h,e[r]=We(h,d))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=oe()},l(r){for(let d=0;d<e.length;d+=1)e[d].l(r);l=oe()},m(r,d){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(r,d);F(r,l,d)},p(r,d){d[0]&1032&&(n=le(r[3]),e=$e(e,d,i,1,r,n,t,l.parentNode,je,We,l,Be))},d(r){r&&f(l);for(let d=0;d<e.length;d+=1)e[d].d(r)}}}function He(s){let e,t=s[41].name+"",l,n,i=s[41].code+"",r,d,h;return{c(){e=b("option"),l=B(t),n=R(),r=B(i),d=R(),this.h()},l(c){e=g(c,"OPTION",{});var o=D(e);l=H(o,t),n=V(o),r=H(o,i),d=V(o),o.forEach(f),this.h()},h(){e.__value=h=s[41].code,W(e,e.__value)},m(c,o){F(c,e,o),u(e,l),u(e,n),u(e,r),u(e,d)},p(c,o){o[0]&16&&t!==(t=c[41].name+"")&&q(l,t),o[0]&16&&i!==(i=c[41].code+"")&&q(r,i),o[0]&16&&h!==(h=c[41].code)&&(e.__value=h,W(e,e.__value))},d(c){c&&f(e)}}}function qe(s){let e,t=s[41].name+"",l,n,i=s[41].code+"",r,d,h;return{c(){e=b("option"),l=B(t),n=R(),r=B(i),d=R(),this.h()},l(c){e=g(c,"OPTION",{});var o=D(e);l=H(o,t),n=V(o),r=H(o,i),d=V(o),o.forEach(f),this.h()},h(){e.__value=h=s[41].code,W(e,e.__value)},m(c,o){F(c,e,o),u(e,l),u(e,n),u(e,r),u(e,d)},p(c,o){o[0]&16&&t!==(t=c[41].name+"")&&q(l,t),o[0]&16&&i!==(i=c[41].code+"")&&q(r,i),o[0]&16&&h!==(h=c[41].code)&&(e.__value=h,W(e,e.__value))},d(c){c&&f(e)}}}function Ye(s){let e,t,l,n,i,r,d,h,c,o,C='<i class="fa-solid fa-arrows-left-right"></i>',I,k,S,T,y,_,E,N,p=[],v=new Map,O,m,w=le(s[3]);const M=A=>A[36].id;for(let A=0;A<w.length;A+=1){let L=Je(s,w,A),U=M(L);v.set(U,p[A]=Ge(U,L))}return{c(){e=b("tbody"),t=b("tr"),l=b("td"),n=b("div"),i=b("input"),r=R(),d=b("span"),h=B(s[0]),c=R(),o=b("td"),o.innerHTML=C,I=R(),k=b("td"),S=b("div"),T=b("input"),y=R(),_=b("span"),E=B(s[1]),N=R();for(let A=0;A<p.length;A+=1)p[A].c();this.h()},l(A){e=g(A,"TBODY",{});var L=D(e);t=g(L,"TR",{});var U=D(t);l=g(U,"TD",{class:!0});var Y=D(l);n=g(Y,"DIV",{class:!0});var G=D(n);i=g(G,"INPUT",{class:!0,type:!0,min:!0,placeholder:!0}),r=V(G),d=g(G,"SPAN",{class:!0});var x=D(d);h=H(x,s[0]),x.forEach(f),G.forEach(f),Y.forEach(f),c=V(U),o=g(U,"TD",{class:!0,"data-svelte-h":!0}),se(o)!=="svelte-1fhuuec"&&(o.innerHTML=C),I=V(U),k=g(U,"TD",{class:!0});var z=D(k);S=g(z,"DIV",{class:!0});var X=D(S);T=g(X,"INPUT",{class:!0,type:!0,min:!0,placeholder:!0}),y=V(X),_=g(X,"SPAN",{class:!0});var ee=D(_);E=H(ee,s[1]),ee.forEach(f),X.forEach(f),z.forEach(f),U.forEach(f),N=V(L);for(let te=0;te<p.length;te+=1)p[te].l(L);L.forEach(f),this.h()},h(){a(i,"class","form-control form-control-sm text-end"),a(i,"type","number"),a(i,"min","0"),a(i,"placeholder",""),a(d,"class","input-group-text"),a(n,"class","input-group input-group-sm"),a(l,"class","col-5 align-middle p-1"),a(o,"class","col-1 align-middle p-1"),a(T,"class","form-control form-control-sm text-end"),a(T,"type","number"),a(T,"min","0"),a(T,"placeholder",""),a(_,"class","input-group-text"),a(S,"class","input-group input-group-sm"),a(k,"class","col-5 align-middle p-1")},m(A,L){F(A,e,L),u(e,t),u(t,l),u(l,n),u(n,i),W(i,s[7]),u(n,r),u(n,d),u(d,h),u(t,c),u(t,o),u(t,I),u(t,k),u(k,S),u(S,T),W(T,s[8]),u(S,y),u(S,_),u(_,E),u(e,N);for(let U=0;U<p.length;U+=1)p[U]&&p[U].m(e,null);O||(m=[K(i,"change",s[22]),K(i,"input",s[23]),K(T,"change",s[24]),K(T,"input",s[25])],O=!0)},p(A,L){L[0]&128&&ce(i.value)!==A[7]&&W(i,A[7]),L[0]&1&&q(h,A[0]),L[0]&256&&ce(T.value)!==A[8]&&W(T,A[8]),L[0]&2&&q(E,A[1]),L[0]&107&&(w=le(A[3]),p=$e(p,L,M,1,A,w,v,e,je,Ge,null,Je))},d(A){A&&f(e);for(let L=0;L<p.length;L+=1)p[L].d();O=!1,fe(m)}}}function ze(s){let e,t,l,n,i,r,d,h,c,o='<i class="fa-solid fa-arrows-left-right"></i>',C,I,k;function S(w,M){return w[36].name?pt:w[36].currency===w[0]?_t:ht}let T=S(s),y=T(s),_=s[36].description&&s[36].description.length&&Ke(s);function E(w,M){return w[36].currency===w[0]?vt:mt}let N=E(s),p=N(s);function v(w,M){return w[36].currency===w[0]?gt:bt}let O=v(s),m=O(s);return{c(){e=b("tr"),t=b("td"),l=b("div"),y.c(),n=R(),_&&_.c(),i=R(),r=b("p"),d=b("small"),p.c(),h=R(),c=b("td"),c.innerHTML=o,C=R(),I=b("td"),m.c(),k=R(),this.h()},l(w){e=g(w,"TR",{});var M=D(e);t=g(M,"TD",{class:!0});var A=D(t);l=g(A,"DIV",{class:!0});var L=D(l);y.l(L),L.forEach(f),n=V(A),_&&_.l(A),i=V(A),r=g(A,"P",{class:!0});var U=D(r);d=g(U,"SMALL",{class:!0});var Y=D(d);p.l(Y),Y.forEach(f),U.forEach(f),A.forEach(f),h=V(M),c=g(M,"TD",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-f1guhw"&&(c.innerHTML=o),C=V(M),I=g(M,"TD",{class:!0});var G=D(I);m.l(G),G.forEach(f),k=V(M),M.forEach(f),this.h()},h(){a(l,"class","fs-6"),a(d,"class","svelte-tofd57"),a(r,"class","text-secondary mb-0"),a(t,"class","col-5 align-middle p-1"),a(c,"class","col-1 align-middle p-1"),a(I,"class","col-5 align-middle p-1")},m(w,M){F(w,e,M),u(e,t),u(t,l),y.m(l,null),u(t,n),_&&_.m(t,null),u(t,i),u(t,r),u(r,d),p.m(d,null),u(e,h),u(e,c),u(e,C),u(e,I),m.m(I,null),u(e,k)},p(w,M){T===(T=S(w))&&y?y.p(w,M):(y.d(1),y=T(w),y&&(y.c(),y.m(l,null))),w[36].description&&w[36].description.length?_?_.p(w,M):(_=Ke(w),_.c(),_.m(t,i)):_&&(_.d(1),_=null),N===(N=E(w))&&p?p.p(w,M):(p.d(1),p=N(w),p&&(p.c(),p.m(d,null))),O===(O=v(w))&&m?m.p(w,M):(m.d(1),m=O(w),m&&(m.c(),m.m(I,null)))},d(w){w&&f(e),y.d(),_&&_.d(),p.d(),m.d()}}}function ht(s){let e=ne(s[6].convert(s[36].value),s[0])+"",t;return{c(){t=B(e)},l(l){t=H(l,e)},m(l,n){F(l,t,n)},p(l,n){n[0]&73&&e!==(e=ne(l[6].convert(l[36].value),l[0])+"")&&q(t,e)},d(l){l&&f(t)}}}function _t(s){let e=Z(s[36].value,s[36].currency)+"",t;return{c(){t=B(e)},l(l){t=H(l,e)},m(l,n){F(l,t,n)},p(l,n){n[0]&8&&e!==(e=Z(l[36].value,l[36].currency)+"")&&q(t,e)},d(l){l&&f(t)}}}function pt(s){let e=s[36].name+"",t;return{c(){t=B(e)},l(l){t=H(l,e)},m(l,n){F(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[36].name+"")&&q(t,e)},d(l){l&&f(t)}}}function Ke(s){let e,t=s[36].description+"",l;return{c(){e=b("small"),l=B(t),this.h()},l(n){e=g(n,"SMALL",{class:!0});var i=D(e);l=H(i,t),i.forEach(f),this.h()},h(){a(e,"class","svelte-tofd57")},m(n,i){F(n,e,i),u(e,l)},p(n,i){i[0]&8&&t!==(t=n[36].description+"")&&q(l,t)},d(n){n&&f(e)}}}function mt(s){let e=ne(s[6].convert(s[36].value),s[0])+"",t;return{c(){t=B(e)},l(l){t=H(l,e)},m(l,n){F(l,t,n)},p(l,n){n[0]&73&&e!==(e=ne(l[6].convert(l[36].value),l[0])+"")&&q(t,e)},d(l){l&&f(t)}}}function vt(s){let e=Z(s[36].value,s[36].currency)+"",t;return{c(){t=B(e)},l(l){t=H(l,e)},m(l,n){F(l,t,n)},p(l,n){n[0]&8&&e!==(e=Z(l[36].value,l[36].currency)+"")&&q(t,e)},d(l){l&&f(t)}}}function bt(s){let e,t=ne(s[36].value,s[1])+"",l,n,i,r,d=Z(s[36].value,s[1])+"",h;return{c(){e=b("p"),l=B(t),n=R(),i=b("p"),r=b("small"),h=B(d),this.h()},l(c){e=g(c,"P",{class:!0});var o=D(e);l=H(o,t),o.forEach(f),n=V(c),i=g(c,"P",{class:!0});var C=D(i);r=g(C,"SMALL",{class:!0});var I=D(r);h=H(I,d),I.forEach(f),C.forEach(f),this.h()},h(){a(e,"class","fs-6 mb-1"),a(r,"class","svelte-tofd57"),a(i,"class","text-secondary mb-0")},m(c,o){F(c,e,o),u(e,l),F(c,n,o),F(c,i,o),u(i,r),u(r,h)},p(c,o){o[0]&10&&t!==(t=ne(c[36].value,c[1])+"")&&q(l,t),o[0]&10&&d!==(d=Z(c[36].value,c[1])+"")&&q(h,d)},d(c){c&&(f(e),f(n),f(i))}}}function gt(s){let e,t=ne(s[5].convert(s[36].value),s[1])+"",l,n,i,r,d=Z(s[5].convert(s[36].value),s[1])+"",h;return{c(){e=b("p"),l=B(t),n=R(),i=b("p"),r=b("small"),h=B(d),this.h()},l(c){e=g(c,"P",{class:!0});var o=D(e);l=H(o,t),o.forEach(f),n=V(c),i=g(c,"P",{class:!0});var C=D(i);r=g(C,"SMALL",{class:!0});var I=D(r);h=H(I,d),I.forEach(f),C.forEach(f),this.h()},h(){a(e,"class","fs-6 mb-1"),a(r,"class","svelte-tofd57"),a(i,"class","text-secondary mb-0")},m(c,o){F(c,e,o),u(e,l),F(c,n,o),F(c,i,o),u(i,r),u(r,h)},p(c,o){o[0]&42&&t!==(t=ne(c[5].convert(c[36].value),c[1])+"")&&q(l,t),o[0]&42&&d!==(d=Z(c[5].convert(c[36].value),c[1])+"")&&q(h,d)},d(c){c&&(f(e),f(n),f(i))}}}function Ge(s,e){let t,l,n=e[36].visible&&(e[36].currency===e[0]||e[36].currency===e[1]&&e[36].custom)&&ze(e);return{key:s,first:null,c(){t=oe(),n&&n.c(),l=oe(),this.h()},l(i){t=oe(),n&&n.l(i),l=oe(),this.h()},h(){this.first=t},m(i,r){F(i,t,r),n&&n.m(i,r),F(i,l,r)},p(i,r){e=i,e[36].visible&&(e[36].currency===e[0]||e[36].currency===e[1]&&e[36].custom)?n?n.p(e,r):(n=ze(e),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){i&&(f(t),f(l)),n&&n.d(i)}}}function yt(s){let e,t,l,n,i,r;function d(){return s[16](s[36],s[37],s[38])}return{c(){e=b("button"),t=b("i"),this.h()},l(h){e=g(h,"BUTTON",{id:!0,class:!0,type:!0,title:!0});var c=D(e);t=g(c,"I",{class:!0}),D(t).forEach(f),c.forEach(f),this.h()},h(){a(t,"class",l="fa-regular "+(s[36].visible?"fa-eye":"fa-eye-slash")),a(e,"id",n="delete-"+s[36].id),a(e,"class","btn btn-sm btn-outline-secondary float-end"),a(e,"type","button"),a(e,"title","Delete")},m(h,c){F(h,e,c),u(e,t),i||(r=K(e,"click",d),i=!0)},p(h,c){s=h,c[0]&8&&l!==(l="fa-regular "+(s[36].visible?"fa-eye":"fa-eye-slash"))&&a(t,"class",l),c[0]&8&&n!==(n="delete-"+s[36].id)&&a(e,"id",n)},d(h){h&&f(e),i=!1,r()}}}function Et(s){let e,t,l,n,i;function r(){return s[15](s[36])}return{c(){e=b("button"),t=b("i"),this.h()},l(d){e=g(d,"BUTTON",{id:!0,class:!0,type:!0,title:!0});var h=D(e);t=g(h,"I",{class:!0}),D(t).forEach(f),h.forEach(f),this.h()},h(){a(t,"class","fa-solid fa-trash"),a(e,"id",l="delete-"+s[36].id),a(e,"class","btn btn-sm btn-outline-danger float-end"),a(e,"type","button"),a(e,"title","Delete")},m(d,h){F(d,e,h),u(e,t),n||(i=K(e,"click",r),n=!0)},p(d,h){s=d,h[0]&8&&l!==(l="delete-"+s[36].id)&&a(e,"id",l)},d(d){d&&f(e),n=!1,i()}}}function Qe(s){let e,t,l,n,i,r,d,h,c,o,C,I,k,S,T,y="Amount",_,E,N,p,v,O=s[36].currency+"",m,w,M,A,L,U,Y,G,x,z,X,ee,te;function be(){s[17].call(o,s[37],s[38])}function ge(){s[18].call(E,s[37],s[38])}function ye(){s[19].call(z,s[37],s[38])}return{c(){e=b("div"),t=b("div"),l=b("div"),n=b("div"),i=b("div"),r=b("span"),d=B("Name"),c=R(),o=b("input"),I=R(),k=b("div"),S=b("div"),T=b("span"),T.textContent=y,_=R(),E=b("input"),p=R(),v=b("span"),m=B(O),w=R(),M=b("div"),A=b("div"),L=b("div"),U=b("span"),Y=B("Description"),x=R(),z=b("input"),this.h()},l(P){e=g(P,"DIV",{class:!0});var J=D(e);t=g(J,"DIV",{class:!0});var j=D(t);l=g(j,"DIV",{class:!0});var de=D(l);n=g(de,"DIV",{class:!0});var we=D(n);i=g(we,"DIV",{class:!0});var he=D(i);r=g(he,"SPAN",{class:!0,id:!0});var De=D(r);d=H(De,"Name"),De.forEach(f),c=V(he),o=g(he,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),he.forEach(f),we.forEach(f),I=V(de),k=g(de,"DIV",{class:!0});var Ie=D(k);S=g(Ie,"DIV",{class:!0});var ie=D(S);T=g(ie,"SPAN",{class:!0,"data-svelte-h":!0}),se(T)!=="svelte-w4zatn"&&(T.textContent=y),_=V(ie),E=g(ie,"INPUT",{id:!0,type:!0,class:!0,min:!0,placeholder:!0}),p=V(ie),v=g(ie,"SPAN",{class:!0});var Ce=D(v);m=H(Ce,O),Ce.forEach(f),ie.forEach(f),Ie.forEach(f),de.forEach(f),w=V(j),M=g(j,"DIV",{class:!0});var Ae=D(M);A=g(Ae,"DIV",{class:!0});var Se=D(A);L=g(Se,"DIV",{class:!0});var _e=D(L);U=g(_e,"SPAN",{class:!0,id:!0});var Ne=D(U);Y=H(Ne,"Description"),Ne.forEach(f),x=V(_e),z=g(_e,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0}),_e.forEach(f),Se.forEach(f),Ae.forEach(f),j.forEach(f),J.forEach(f),this.h()},h(){a(r,"class","input-group-text"),a(r,"id",h="thing-name-"+s[36].id),a(o,"id",C="thing-name-"+s[36].id),a(o,"type","text"),a(o,"class","form-control"),a(o,"placeholder","optional"),a(i,"class","input-group input-group-sm"),a(n,"class","col-12 col-sm-6 pb-2"),a(T,"class","input-group-text"),a(E,"id",N="thing-value-"+s[36].id),a(E,"type","number"),a(E,"class","form-control form-control-sm text-end"),a(E,"min","0"),a(E,"placeholder",""),a(v,"class","input-group-text"),a(S,"class","input-group input-group-sm"),a(k,"class","col-12 col-sm-6 pb-2"),a(l,"class","row gx-2"),a(U,"class","input-group-text"),a(U,"id",G="thing-description-"+s[36].id),a(z,"id",X="thing-description-"+s[36].id),a(z,"class","form-control form-control-sm"),a(z,"type","text"),a(z,"placeholder","optional"),a(L,"class","input-group input-group-sm"),a(A,"class","col-12"),a(M,"class","row gx-2"),a(t,"class","container-fluid"),a(e,"class","card-body py-3 p-0")},m(P,J){F(P,e,J),u(e,t),u(t,l),u(l,n),u(n,i),u(i,r),u(r,d),u(i,c),u(i,o),W(o,s[36].name),u(l,I),u(l,k),u(k,S),u(S,T),u(S,_),u(S,E),W(E,s[36].value),u(S,p),u(S,v),u(v,m),u(t,w),u(t,M),u(M,A),u(A,L),u(L,U),u(U,Y),u(L,x),u(L,z),W(z,s[36].description),ee||(te=[K(o,"input",be),K(E,"input",ge),K(z,"input",ye)],ee=!0)},p(P,J){s=P,J[0]&8&&h!==(h="thing-name-"+s[36].id)&&a(r,"id",h),J[0]&8&&C!==(C="thing-name-"+s[36].id)&&a(o,"id",C),J[0]&8&&o.value!==s[36].name&&W(o,s[36].name),J[0]&8&&N!==(N="thing-value-"+s[36].id)&&a(E,"id",N),J[0]&8&&ce(E.value)!==s[36].value&&W(E,s[36].value),J[0]&8&&O!==(O=s[36].currency+"")&&q(m,O),J[0]&8&&G!==(G="thing-description-"+s[36].id)&&a(U,"id",G),J[0]&8&&X!==(X="thing-description-"+s[36].id)&&a(z,"id",X),J[0]&8&&z.value!==s[36].description&&W(z,s[36].description)},d(P){P&&f(e),ee=!1,fe(te)}}}function We(s,e){let t,l,n,i,r=(e[36].name?`${e[36].name} (${e[36].currency})`:Z(e[36].value,e[36].currency))+"",d,h,c,o,C,I;function k(_,E){return _[36].custom?Et:yt}let S=k(e),T=S(e),y=e[36].custom&&Qe(e);return{key:s,first:null,c(){t=b("div"),l=b("div"),n=b("div"),i=b("div"),d=B(r),h=R(),c=b("div"),o=b("div"),T.c(),C=R(),y&&y.c(),I=R(),this.h()},l(_){t=g(_,"DIV",{class:!0});var E=D(t);l=g(E,"DIV",{class:!0});var N=D(l);n=g(N,"DIV",{class:!0});var p=D(n);i=g(p,"DIV",{class:!0});var v=D(i);d=H(v,r),v.forEach(f),h=V(p),c=g(p,"DIV",{class:!0});var O=D(c);o=g(O,"DIV",{class:!0});var m=D(o);T.l(m),m.forEach(f),O.forEach(f),p.forEach(f),N.forEach(f),C=V(E),y&&y.l(E),I=V(E),E.forEach(f),this.h()},h(){a(i,"class","col-10 col-sm-11"),a(o,"class","d-grid gap-2"),a(c,"class","col-2 col-sm-1"),a(n,"class","row align-items-center"),a(l,"class","card-header"),a(t,"class","card border-secondary mb-2"),this.first=t},m(_,E){F(_,t,E),u(t,l),u(l,n),u(n,i),u(i,d),u(n,h),u(n,c),u(c,o),T.m(o,null),u(t,C),y&&y.m(t,null),u(t,I)},p(_,E){e=_,E[0]&8&&r!==(r=(e[36].name?`${e[36].name} (${e[36].currency})`:Z(e[36].value,e[36].currency))+"")&&q(d,r),S===(S=k(e))&&T?T.p(e,E):(T.d(1),T=S(e),T&&(T.c(),T.m(o,null))),e[36].custom?y?y.p(e,E):(y=Qe(e),y.c(),y.m(t,I)):y&&(y.d(1),y=null)},d(_){_&&f(t),T.d(),y&&y.d()}}}function kt(s){let e,t='<i class="fa-solid fa-gear"></i> Customise',l,n;return{c(){e=b("button"),e.innerHTML=t,this.h()},l(i){e=g(i,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),se(e)!=="svelte-1q3ihnr"&&(e.innerHTML=t),this.h()},h(){a(e,"class","btn btn-outline-secondary m-1"),a(e,"type","button"),a(e,"title","Customise")},m(i,r){F(i,e,r),l||(n=K(e,"click",s[30]),l=!0)},p:Te,d(i){i&&f(e),l=!1,n()}}}function Tt(s){let e,t,l,n,i,r,d,h,c,o,C,I,k,S='<i class="fa-solid fa-save"></i> Save',T,y,_='<i class="fa-solid fa-arrows-rotate"></i> Reset',E,N;return{c(){e=b("button"),t=b("i"),l=B(" Add "),n=B(s[0]),i=R(),r=b("button"),d=b("i"),h=B(" Add "),c=B(s[1]),o=R(),C=b("br"),I=R(),k=b("button"),k.innerHTML=S,T=R(),y=b("button"),y.innerHTML=_,this.h()},l(p){e=g(p,"BUTTON",{class:!0,type:!0,title:!0});var v=D(e);t=g(v,"I",{class:!0}),D(t).forEach(f),l=H(v," Add "),n=H(v,s[0]),v.forEach(f),i=V(p),r=g(p,"BUTTON",{class:!0,type:!0,title:!0});var O=D(r);d=g(O,"I",{class:!0}),D(d).forEach(f),h=H(O," Add "),c=H(O,s[1]),O.forEach(f),o=V(p),C=g(p,"BR",{}),I=V(p),k=g(p,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),se(k)!=="svelte-1meizcx"&&(k.innerHTML=S),T=V(p),y=g(p,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),se(y)!=="svelte-1xnysor"&&(y.innerHTML=_),this.h()},h(){a(t,"class","fa-solid fa-plus"),a(e,"class","btn btn-outline-secondary m-1"),a(e,"type","button"),a(e,"title","Save"),a(d,"class","fa-solid fa-plus"),a(r,"class","btn btn-outline-secondary m-1"),a(r,"type","button"),a(r,"title","Save"),a(k,"class","btn btn-outline-primary m-1"),a(k,"type","button"),a(k,"title","Save"),a(y,"class","btn btn-outline-warning m-1"),a(y,"type","button"),a(y,"title","Save")},m(p,v){F(p,e,v),u(e,t),u(e,l),u(e,n),F(p,i,v),F(p,r,v),u(r,d),u(r,h),u(r,c),F(p,o,v),F(p,C,v),F(p,I,v),F(p,k,v),F(p,T,v),F(p,y,v),E||(N=[K(e,"click",s[26]),K(r,"click",s[27]),K(k,"click",s[28]),K(y,"click",s[29])],E=!0)},p(p,v){v[0]&1&&q(n,p[0]),v[0]&2&&q(c,p[1])},d(p){p&&(f(e),f(i),f(r),f(o),f(C),f(I),f(k),f(T),f(y)),E=!1,fe(N)}}}function wt(s){let e,t,l,n,i="Currency Cheatsheet",r,d,h,c,o;function C(_,E){return E[0]&12&&(d=null),d==null&&(d=!!(_[2]&&Array.isArray(_[3]))),d?dt:ft}let I=C(s,[-1,-1]),k=I(s);function S(_,E){return _[2]?Tt:kt}let T=S(s),y=T(s);return{c(){e=b("meta"),t=R(),l=b("div"),n=b("h1"),n.textContent=i,r=R(),k.c(),h=R(),c=b("div"),o=b("div"),y.c(),this.h()},l(_){const E=at("svelte-91a5lw",document.head);e=g(E,"META",{name:!0,content:!0}),E.forEach(f),t=V(_),l=g(_,"DIV",{class:!0,style:!0});var N=D(l);n=g(N,"H1",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-ic01ye"&&(n.textContent=i),r=V(N),k.l(N),h=V(N),c=g(N,"DIV",{class:!0});var p=D(c);o=g(p,"DIV",{class:!0});var v=D(o);y.l(v),v.forEach(f),p.forEach(f),N.forEach(f),this.h()},h(){document.title="Currency Cheatsheet",a(e,"name","description"),a(e,"content",""),a(n,"class","display-4 text-center text-light mx-1 my-2"),a(o,"class","col-12 text-center"),a(c,"class","row"),a(l,"class","container-fluid mx-auto px-2"),ot(l,"max-width","40rem")},m(_,E){u(document.head,e),F(_,t,E),F(_,l,E),u(l,n),u(l,r),k.m(l,null),u(l,h),u(l,c),u(c,o),y.m(o,null)},p(_,E){I===(I=C(_,E))&&k?k.p(_,E):(k.d(1),k=I(_),k&&(k.c(),k.m(l,h))),T===(T=S(_))&&y?y.p(_,E):(y.d(1),y=T(_),y&&(y.c(),y.m(o,null)))},i:Te,o:Te,d(_){_&&(f(t),f(l)),f(e),k.d(),y.d()}}}const Dt="GBP",It="THB",ke="from",Xe="to",Ze="USD";function Ct(s,e,t){let l=!1,n=[],i=$.getItem("DEFAULT_FROM_CODE")||Dt,r=$.getItem("DEFAULT_TO_CODE")||It,d,h,c=[],o,C,I=1,k=0,S,T;const y=async()=>{i&&r&&(d=ue.getByCode(c,i),h=ue.getByCode(c,r),d!=null&&d.code&&(h!=null&&h.code)&&($.setItem("DEFAULT_FROM_CODE",d.code),$.setItem("DEFAULT_TO_CODE",h.code),t(5,o=await ae.getRate(d.code,h.code)),t(6,C=await ae.getRate(h.code,d.code)),S=await ae.getRate(d.code,Ze),T=await ae.getRate(h.code,Ze),o&&C&&S&&T&&(re.thingsForCurrency(n,i).length===0&&n.push(...me(o,S)),re.thingsForCurrency(n,r).length===0&&n.push(...me(C,T))),N()))},_=function(P){const J=new re;J.currency=P,J.custom=!0,n.push(J),t(3,n)},E=function(P){window.confirm(`Delete${P.name?` "${P.name}"`:""}?`)&&t(3,n=n.filter(j=>j.id!=P.id))},N=function(){n.sort((J,j)=>J.valueConverted(o)-j.valueConverted(o)),t(3,n);const P=JSON.stringify(n.map(J=>J.toJson()));$.setItem(xe,P)},p=function(){t(3,n=[]),o&&(S&&n.push(...me(o,S)),T&&n.push(...me(C,T))),t(3,n),N()},v=function(){const P=i;t(0,i=r),t(1,r=P);const J=I;t(7,I=k),t(8,k=J)},O=function(P){switch(P){case ke:t(8,k=parseFloat(((o==null?void 0:o.convert(I))||0).toFixed(2)));break;case Xe:t(7,I=parseFloat(((C==null?void 0:C.convert(k))||0).toFixed(2)));break}return null};st(async()=>{t(3,n=await ae.getThings()),t(4,c=await ae.getCurrencies()),await y(),O(ke)});const m=P=>E(P),w=(P,J,j)=>t(3,J[j].visible=!P.visible,n);function M(P,J){P[J].name=this.value,t(3,n)}function A(P,J){P[J].value=ce(this.value),t(3,n)}function L(P,J){P[J].description=this.value,t(3,n)}function U(){i=Me(this),t(0,i),t(4,c)}function Y(){r=Me(this),t(1,r),t(4,c)}const G=()=>O(ke);function x(){I=ce(this.value),t(7,I)}const z=()=>O(Xe);function X(){k=ce(this.value),t(8,k)}const ee=()=>_(i),te=()=>_(r),be=()=>{N(),t(2,l=!1)},ge=()=>{window.confirm("Reset?")&&p(),t(2,l=!1)},ye=()=>t(2,l=!0);return s.$$.update=()=>{s.$$.dirty[0]&3&&y()},[i,r,l,n,c,o,C,I,k,_,E,N,p,v,O,m,w,M,A,L,U,Y,G,x,z,X,ee,te,be,ge,ye]}class Ot extends rt{constructor(e){super(),it(this,e,Ct,wt,lt,{},null,[-1,-1])}}export{Ot as component};
